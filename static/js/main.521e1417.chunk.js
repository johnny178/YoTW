(this.webpackJsonpyotw=this.webpackJsonpyotw||[]).push([[0],{58:function(n,e,t){"use strict";t.r(e);var a=t(0),i=t.n(a),o=t(26),r=t.n(o),c=t(5),s=t.n(c),l=t(9),u=t(4),d=t(27),p=t.n(d),b=t(31),f=p.a.create({baseURL:"https://ptx.transportdata.tw/MOTC/v2/Tourism/ScenicSpot",headers:function(){var n=(new Date).toGMTString(),e=new b.a("SHA-1","TEXT");return e.setHMACKey("zvSZkHtUt4JieFWkdnOyW4iGtt4","TEXT"),e.update("x-date: "+n),{Authorization:'hmac username="79b1459ffeca4aabadd35e191c8fed59", algorithm="hmac-sha1", headers="x-date", signature="'+e.getHMAC("B64")+'"',"X-Date":n}}()}),h=function(n){return f.get(n?"?".concat(n):"")},m=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return f.get("/".concat(n,"?").concat(e))},g={"\u5168\u53f0":"","\u81fa\u5317\u5e02":"Taipei","\u65b0\u5317\u5e02":"NewTaipei","\u6843\u5712\u5e02":"Taoyuan","\u81fa\u4e2d\u5e02":"Taichung","\u81fa\u5357\u5e02":"Tainan","\u9ad8\u96c4\u5e02":"Kaohsiung","\u57fa\u9686\u5e02":"Keelung","\u65b0\u7af9\u5e02":"Hsinchu","\u65b0\u7af9\u7e23":"HsinchuCounty","\u82d7\u6817\u7e23":"MiaoliCounty","\u5f70\u5316\u7e23":"ChanghuaCounty","\u5357\u6295\u7e23":"NantouCounty","\u96f2\u6797\u7e23":"YunlinCounty","\u5609\u7fa9\u7e23":"ChiayiCounty","\u5609\u7fa9\u5e02":"Chiayi","\u5c4f\u6771\u7e23":"PingtungCounty","\u5b9c\u862d\u7e23":"YilanCounty","\u82b1\u84ee\u7e23":"HualienCounty","\u81fa\u6771\u7e23":"TaitungCounty","\u91d1\u9580\u7e23":"KinmenCounty","\u6f8e\u6e56\u7e23":"PenghuCounty","\u9023\u6c5f\u7e23":"LienchiangCounty"},j=["\u5168\u53f0","\u81fa\u5317\u5e02","\u65b0\u5317\u5e02","\u6843\u5712\u5e02","\u81fa\u4e2d\u5e02","\u81fa\u5357\u5e02","\u9ad8\u96c4\u5e02","\u57fa\u9686\u5e02","\u65b0\u7af9\u5e02","\u65b0\u7af9\u7e23","\u82d7\u6817\u7e23","\u5f70\u5316\u7e23","\u5357\u6295\u7e23","\u96f2\u6797\u7e23","\u5609\u7fa9\u7e23","\u5609\u7fa9\u5e02","\u5c4f\u6771\u7e23","\u5b9c\u862d\u7e23","\u82b1\u84ee\u7e23","\u81fa\u6771\u7e23","\u91d1\u9580\u7e23","\u6f8e\u6e56\u7e23","\u9023\u6c5f\u7e23"],y=t(15);var x=t(2),v=x.b.div.withConfig({displayName:"styles__Container",componentId:"sc-p6thor-0"})(["padding:3% 5%;"]),O=x.b.div.withConfig({displayName:"styles__FilterCont",componentId:"sc-p6thor-1"})(["display:flex;padding:10px;justify-content:center;"]),C=x.b.form.withConfig({displayName:"styles__FilterForm",componentId:"sc-p6thor-2"})(["display:flex;flex-direction:row;"]),w=x.b.input.withConfig({displayName:"styles__Searchbar",componentId:"sc-p6thor-3"})(["background-color:white;"]),_=x.b.select.withConfig({displayName:"styles__Select",componentId:"sc-p6thor-4"})(["margin-left:10px;"]),k=x.b.option.withConfig({displayName:"styles__Option",componentId:"sc-p6thor-5"})(["margin-left:10px;"]),N=x.b.div.withConfig({displayName:"styles__GridCont",componentId:"sc-p6thor-6"})(["display:grid;grid-template-columns:repeat(2,minmax(15rem,1fr));margin:3% 0px;grid-gap:30px;@media (max-width:1200px){grid-template-columns:repeat(1,minmax(15rem,1fr));}"]),S=x.b.div.withConfig({displayName:"styles__Item",componentId:"sc-p6thor-7"})(["display:flex;flex-direction:row;background-color:gray;"]),I=x.b.img.withConfig({displayName:"styles__Image",componentId:"sc-p6thor-8"})(["align-self:center;width:40%;height:100%;object-fit:cover;"]),T=x.b.div.withConfig({displayName:"styles__DetailCont",componentId:"sc-p6thor-9"})(["display:flex;flex-direction:column;margin-left:20px;padding:20px;"]),z=x.b.h1.withConfig({displayName:"styles__Name",componentId:"sc-p6thor-10"})(["margin-bottom:30px;font-size:16px;"]),P=x.b.p.withConfig({displayName:"styles__Description",componentId:"sc-p6thor-11"})(["font-size:12px;"]),H=t(1),M=function(){var n=Object(a.useState)("\u5168\u53f0"),e=Object(u.a)(n,2),t=e[0],i=e[1],o=Object(a.useState)(""),r=Object(u.a)(o,2),c=r[0],d=r[1],p=Object(a.useState)(1),b=Object(u.a)(p,2),f=b[0],x=b[1],M=function(){var n=Object(l.a)(s.a.mark((function n(e,t){var a;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=[],"\u5168\u53f0"!==e){n.next=7;break}return n.next=4,h(t.toString());case 4:a=n.sent,n.next=10;break;case 7:return n.next=9,m(g[e],t.toString());case 9:a=n.sent;case 10:return n.abrupt("return",a);case 11:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),D=function(n,e,t,i){var o=Object(a.useState)(!0),r=Object(u.a)(o,2),c=r[0],d=r[1],p=Object(a.useState)(!1),b=Object(u.a)(p,2),f=b[0],h=b[1],m=Object(a.useState)([]),g=Object(u.a)(m,2),j=g[0],x=g[1],v=Object(a.useState)(!1),O=Object(u.a)(v,2),C=O[0],w=O[1];return Object(a.useEffect)((function(){x([])}),[n,e]),Object(a.useEffect)((function(){d(!0),h(!1);var a=0!==n.length?" and contains(NAME,'".concat(n,"')"):"",o=new URLSearchParams([["$top",30],["$filter","Picture/PictureUrl1 ne null".concat(a)],["$skip",30*(t-1)],["$format","JSON"]]),r=function(){var n=Object(l.a)(s.a.mark((function n(){var t;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,i(e,o);case 3:t=n.sent,x((function(n){return[].concat(Object(y.a)(n),Object(y.a)(t.data))})),w(30===t.data.length),d(!1),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),h(!0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(){return n.apply(this,arguments)}}(),c=setTimeout((function(){r()}),500);return function(){clearTimeout(c)}}),[n,e,t]),{loading:c,error:f,data:j,hasMore:C}}(c,t,f,M),q=D.data,A=D.hasMore,E=D.loading,U=(D.error,Object(a.useRef)()),F=Object(a.useCallback)((function(n){E||(U.current&&U.current.disconnect(),U.current=new IntersectionObserver((function(n){n[0].isIntersecting&&A&&x((function(n){return n+1}))})),n&&U.current.observe(n))}),[E,A]);return Object(H.jsxs)(v,{children:[Object(H.jsx)(O,{children:Object(H.jsxs)(C,{children:[Object(H.jsx)(w,{type:"text",value:c,onChange:function(n){return function(n){d(n.target.value),x(1)}(n)}}),Object(H.jsx)(_,{value:t,onChange:function(n){return function(n){i(n.target.value),d(""),x(1)}(n)},children:j.map((function(n,e){return Object(H.jsx)(k,{value:n,children:n},e)}))})]})}),Object(H.jsx)(N,{children:q.map((function(n,e){var t,a,i,o;if(!(null===n||void 0===n||null===(t=n.Picture)||void 0===t?void 0:t.PictureUrl1.includes("210.69")))return Object(H.jsxs)(S,{ref:q.length-3===e?F:null,children:[Object(H.jsx)(I,{src:n.Picture.PictureUrl1,alt:n.Picture.PictureDescription1}),Object(H.jsxs)(T,{children:[Object(H.jsx)(z,{children:null===n||void 0===n||null===(a=n.Name)||void 0===a?void 0:a.replaceAll(".","")}),Object(H.jsx)(P,{children:(null!==(i=null===n||void 0===n||null===(o=n.DescriptionDetail)||void 0===o?void 0:o.slice(0,50))&&void 0!==i?i:"")+"..."})]})]},n.ID)}))})]})},D=function(){return Object(H.jsx)(H.Fragment,{children:Object(H.jsx)(M,{})})};var q,A,E=function(){return Object(H.jsx)(D,{})},U=t(14),F=Object(x.a)(q||(q=Object(U.a)(["\n  *, *:before, *:after {\n    box-sizing: border-box;\n  }\n  html, body {\n    height: 100%;\n    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    background-color: #282631;\n    /* color: #C7C3C0; */\n    font-size: 16px;\n  }\n"]))),J=Object(x.a)(A||(A=Object(U.a)(["\n  html, body, div, span, applet, object, iframe, h1, h2, h3, h4, h5, h6, p, blockquote, pre, a, abbr, acronym, address, big, cite, code, del, dfn, em, img, ins, kbd, q, s, samp, small, strike, strong, sub, sup, tt, var, b, u, i, center, dl, dt, dd, ol, ul, li, fieldset, form, label, legend, table, caption, tbody, tfoot, thead, tr, th, td, article, aside, canvas, details, embed, figure, figcaption, footer, header, hgroup, menu, nav, output, ruby, section, summary, time, mark, audio, video {\n    margin: 0;\n    padding: 0;\n    border: 0;\n    vertical-align: baseline;\n    box-sizing: border-box;\n  }\n  address, caption, cite, code, dfn, em, strong, th, var, b {\n    font-weight: normal;\n    font-style: normal;\n  }\n  abbr, acronym {\n    border: 0;\n  }\n  article, aside, details, figcaption, figure, footer, header, hgroup, menu, nav, section {\n    display: block;\n  }\n  *,\n  *::after,\n  *::before {\n    margin: 0;\n    padding: 0;\n    box-sizing: inherit;\n  }\n  html {\n    text-size-adjust: 100%;\n    box-sizing: border-box;\n  }\n  body {\n      line-height: 1;\n  }\n  ol, ul {\n    list-style: none;\n  }\n  blockquote, q {\n    quotes: none;\n  }\n  blockquote {\n    &:before,   &:after {\n      content: '';\n      content: none;\n    }\n  }\n  q {\n    &:before,   &:after {\n      content: '';\n      content: none;\n    }\n  }\n  table {\n    border-collapse: collapse;\n    border-spacing: 0;\n  }\n  caption, th {\n    text-align: left;\n  }\n  textarea {\n    resize: none;\n  }\n  a {\n    text-decoration: none;\n    cursor: pointer;\n  }\n  button {\n    padding: 0;\n    border: none;\n    background: none;\n  }\n  input, textarea {\n    all: unset;\n  }\n"])));r.a.render(Object(H.jsxs)(i.a.StrictMode,{children:[Object(H.jsx)(J,{}),Object(H.jsx)(F,{}),Object(H.jsx)(E,{})]}),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.521e1417.chunk.js.map