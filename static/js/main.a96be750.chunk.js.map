{"version":3,"sources":["api.js","constants/filterData.js","components/filterBar/styles.js","components/filterBar/index.js","components/attractionList/styles.js","components/attractionList/index.js","containers/Attraction.js","pages/Home.js","App.js","global-styles.js","index.js"],"names":["getScenicSpots","axios","create","baseURL","headers","GMTString","Date","toGMTString","ShaObj","jsSHA","setHMACKey","update","getHMAC","getAuthorizationHeader","getAllScenicSpots","searchParam","get","getSpecificScenicSpots","area","countryDic","arrCountryName","Container","styled","div","FilterForm","form","Searchbar","input","Select","select","Option","option","Submit","FilterBar","setData","useState","countrySelect","setCountrySelect","handleSubmit","e","a","preventDefault","resp","URLSearchParams","toString","data","console","log","onSubmit","value","onChange","target","map","item","index","type","Item","Image","img","DetailCont","Name","h1","Description","p","AttractionList","Picture","PictureUrl1","src","alt","PictureDescription1","replaceAll","DescriptionDetail","slice","ID","Attraction","scenicSpotsData","setScenicSpotsData","useEffect","callApi","Home","App","GlobalStyles","createGlobalStyle","ResetStyle","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a96be750.chunk.js","sourcesContent":["import axios from 'axios';\r\nimport jsSHA from 'jssha';\r\n\r\nconst getAuthorizationHeader = () => {\r\n  //  填入自己 ID、KEY 開始\r\n  let AppID = '79b1459ffeca4aabadd35e191c8fed59';\r\n  let AppKey = 'zvSZkHtUt4JieFWkdnOyW4iGtt4';\r\n  //  填入自己 ID、KEY 結束\r\n  let GMTString = new Date().toGMTString();\r\n  let ShaObj = new jsSHA('SHA-1', 'TEXT');\r\n  ShaObj.setHMACKey(AppKey, 'TEXT');\r\n  ShaObj.update('x-date: ' + GMTString);\r\n  let HMAC = ShaObj.getHMAC('B64');\r\n  // eslint-disable-next-line no-useless-escape\r\n  let Authorization = 'hmac username=\\\"' + AppID + '\\\", algorithm=\\\"hmac-sha1\\\", headers=\\\"x-date\\\", signature=\\\"' + HMAC + '\\\"';\r\n  return { 'Authorization': Authorization, 'X-Date': GMTString };\r\n};\r\n\r\n//觀光景點相關\r\nconst getScenicSpots = axios.create({\r\n  baseURL: 'https://ptx.transportdata.tw/MOTC/v2/Tourism/ScenicSpot',\r\n  headers: getAuthorizationHeader(),\r\n});\r\n\r\n//觀光景點相關\r\nexport const getAllScenicSpots = searchParam => getScenicSpots.get(searchParam ? `?${searchParam}` : '');\r\nexport const getSpecificScenicSpots = (area, searchParam = '') => getScenicSpots.get(`/${area}?${searchParam}`);","export const countryDic = {\r\n  '全台': '',\r\n  '臺北市': 'Taipei',\r\n  '新北市': 'NewTaipei',\r\n  '桃園市': 'Taoyuan',\r\n  '臺中市': 'Taichung',\r\n  '臺南市': 'Tainan',\r\n  '高雄市': 'Kaohsiung',\r\n  '基隆市': 'Keelung',\r\n  '新竹市': 'Hsinchu',\r\n  '新竹縣': 'HsinchuCounty',\r\n  '苗栗縣': 'MiaoliCounty',\r\n  '彰化縣': 'ChanghuaCounty',\r\n  '南投縣': 'NantouCounty',\r\n  '雲林縣': 'YunlinCounty',\r\n  '嘉義縣': 'ChiayiCounty',\r\n  '嘉義市': 'Chiayi',\r\n  '屏東縣': 'PingtungCounty',\r\n  '宜蘭縣': 'YilanCounty',\r\n  '花蓮縣': 'HualienCounty',\r\n  '臺東縣': 'TaitungCounty',\r\n  '金門縣': 'KinmenCounty',\r\n  '澎湖縣': 'PenghuCounty',\r\n  '連江縣': 'LienchiangCounty',\r\n};\r\n\r\nexport const arrCountryName = [\r\n  '全台',\r\n  '臺北市',\r\n  '新北市',\r\n  '桃園市',\r\n  '臺中市',\r\n  '臺南市',\r\n  '高雄市',\r\n  '基隆市',\r\n  '新竹市',\r\n  '新竹縣',\r\n  '苗栗縣',\r\n  '彰化縣',\r\n  '南投縣',\r\n  '雲林縣',\r\n  '嘉義縣',\r\n  '嘉義市',\r\n  '屏東縣',\r\n  '宜蘭縣',\r\n  '花蓮縣',\r\n  '臺東縣',\r\n  '金門縣',\r\n  '澎湖縣',\r\n  '連江縣',\r\n];","import styled from 'styled-components/macro';\r\n\r\nexport const Container = styled.div`\r\n  display: flex;\r\n  padding: 10px;\r\n  margin-top: 20px;\r\n  justify-content: center;\r\n`;\r\n\r\nexport const FilterForm = styled.form`\r\n  display: flex;\r\n  flex-direction: row;\r\n`;\r\n\r\nexport const Searchbar = styled.input`\r\n  background-color: white;\r\n  height: 30px;\r\n  font-size: 16px;\r\n`;\r\n\r\nexport const Select = styled.select`\r\n  margin-left: 10px;\r\n`;\r\n\r\nexport const Option = styled.option`\r\n  margin-left: 10px;\r\n`;\r\n\r\nexport const Submit = styled.input`\r\n  margin-left: 10px;\r\n  background-color: white;\r\n  font-size: 14px;\r\n  width: 40px;\r\n  text-align: center;\r\n`;\r\n","import React, { useState } from 'react';\r\nimport { getAllScenicSpots, getSpecificScenicSpots } from '../../api';\r\nimport { arrCountryName, countryDic } from '../../constants/filterData';\r\nimport {\r\n  Container,\r\n  FilterForm,\r\n  Searchbar,\r\n  Select,\r\n  Option,\r\n  Submit,\r\n} from './styles';\r\n\r\nconst FilterBar = ({ setData }) => {\r\n  const [countrySelect, setCountrySelect] = useState('全台');\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    let resp = [];\r\n    let searchParam = new URLSearchParams([\r\n      ['$top', 50],\r\n      ['format', 'JSON'],\r\n    ]);\r\n    if (countrySelect === '全台') {\r\n      resp = await getAllScenicSpots(searchParam.toString());\r\n    } else {\r\n      resp = await getSpecificScenicSpots(countryDic[countrySelect], searchParam.toString());\r\n    }\r\n    setData(resp.data);\r\n    console.log('yotest', resp.data);\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <FilterForm onSubmit={handleSubmit}>\r\n        <Searchbar />\r\n        <Select value={countrySelect} onChange={e => setCountrySelect(e.target.value)}>\r\n          {arrCountryName.map((item, index) => <Option key={index} value={item}>{item}</Option>)}\r\n        </Select>\r\n        <Submit value='送出' type=\"submit\" />\r\n      </FilterForm>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default FilterBar;\r\n","import styled from 'styled-components/macro';\r\n\r\nexport const Container = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(35rem, 1fr));\r\n  /* grid-template-rows: repeat(auto-fit, 200px); */\r\n  margin: 3% 5%;\r\n  grid-gap: 30px;\r\n`;\r\n\r\nexport const Item = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  background-color: gray;\r\n`;\r\n\r\nexport const Image = styled.img`\r\n  object-fit: cover;\r\n  width: 350px;\r\n  align-self: center;\r\n`;\r\n\r\nexport const DetailCont = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-left: 20px;\r\n  padding: 20px;\r\n`;\r\n\r\nexport const Name = styled.h1`\r\n  margin-bottom: 30px;\r\n  font-size: 16px;\r\n`;\r\n\r\nexport const Description = styled.p`\r\n  font-size: 12px;\r\n`;\r\n\r\n\r\n\r\n","/* eslint-disable no-unused-vars */\r\nimport React from 'react';\r\nimport { Container, Description, DetailCont, Image, Item, Name } from './styles';\r\n\r\nconst AttractionList = ({ data }) => {\r\n  return (\r\n    <Container>\r\n      {\r\n        data.map(item => {\r\n          if (!item?.Picture?.PictureUrl1) return;\r\n\r\n          return (\r\n            <Item key={item.ID}>\r\n              <Image src={item.Picture.PictureUrl1} alt={item.Picture.PictureDescription1} />\r\n              <DetailCont>\r\n                <Name>{item?.Name?.replaceAll('.', '')}</Name>\r\n                <Description >{(item?.DescriptionDetail?.slice(0, 50) ?? '') + '...'}</Description>\r\n              </DetailCont>\r\n            </Item>\r\n          );\r\n        })\r\n      }\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default AttractionList;","import React, { useState, useEffect } from 'react';\r\nimport { getAllScenicSpots } from '../api';\r\nimport { AttractionList, FilterBar } from '../components';\r\n\r\nconst Attraction = () => {\r\n  const [scenicSpotsData, setScenicSpotsData] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const callApi = async () => {\r\n      let searchParam = new URLSearchParams([\r\n        ['$top', 50],\r\n        ['format', 'JSON'],\r\n      ]);\r\n      let resp = await getAllScenicSpots(searchParam.toString());\r\n      setScenicSpotsData(resp.data);\r\n      console.log(resp.data);\r\n    };\r\n    callApi();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <FilterBar setData={item => setScenicSpotsData(item)} />\r\n      <AttractionList data={scenicSpotsData} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Attraction;","import React from 'react';\r\nimport Attraction from '../containers/Attraction';\r\n\r\nconst Home = () => {\r\n  return (\r\n    <Attraction />\r\n  );\r\n};\r\n\r\nexport default Home;","import React from 'react';\nimport Home from './pages/Home';\n\nfunction App() {\n  return (\n    <Home />\n  );\n}\n\nexport default App;\n","import { createGlobalStyle } from 'styled-components';\r\n\r\nexport const GlobalStyles = createGlobalStyle`\r\n  *, *:before, *:after {\r\n    box-sizing: border-box;\r\n  }\r\n  html, body {\r\n    height: 100%;\r\n    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\r\n    -webkit-font-smoothing: antialiased;\r\n    -moz-osx-font-smoothing: grayscale;\r\n    background-color: #282631;\r\n    /* color: #C7C3C0; */\r\n    font-size: 16px;\r\n  }\r\n`;\r\n\r\nexport const ResetStyle = createGlobalStyle`\r\n  html, body, div, span, applet, object, iframe, h1, h2, h3, h4, h5, h6, p, blockquote, pre, a, abbr, acronym, address, big, cite, code, del, dfn, em, img, ins, kbd, q, s, samp, small, strike, strong, sub, sup, tt, var, b, u, i, center, dl, dt, dd, ol, ul, li, fieldset, form, label, legend, table, caption, tbody, tfoot, thead, tr, th, td, article, aside, canvas, details, embed, figure, figcaption, footer, header, hgroup, menu, nav, output, ruby, section, summary, time, mark, audio, video {\r\n    margin: 0;\r\n    padding: 0;\r\n    border: 0;\r\n    vertical-align: baseline;\r\n    box-sizing: border-box;\r\n  }\r\n  address, caption, cite, code, dfn, em, strong, th, var, b {\r\n    font-weight: normal;\r\n    font-style: normal;\r\n  }\r\n  abbr, acronym {\r\n    border: 0;\r\n  }\r\n  article, aside, details, figcaption, figure, footer, header, hgroup, menu, nav, section {\r\n    display: block;\r\n  }\r\n  *,\r\n  *::after,\r\n  *::before {\r\n    margin: 0;\r\n    padding: 0;\r\n    box-sizing: inherit;\r\n  }\r\n  html {\r\n    text-size-adjust: 100%;\r\n    box-sizing: border-box;\r\n  }\r\n  body {\r\n      line-height: 1;\r\n  }\r\n  ol, ul {\r\n    list-style: none;\r\n  }\r\n  blockquote, q {\r\n    quotes: none;\r\n  }\r\n  blockquote {\r\n    &:before,   &:after {\r\n      content: '';\r\n      content: none;\r\n    }\r\n  }\r\n  q {\r\n    &:before,   &:after {\r\n      content: '';\r\n      content: none;\r\n    }\r\n  }\r\n  table {\r\n    border-collapse: collapse;\r\n    border-spacing: 0;\r\n  }\r\n  caption, th {\r\n    text-align: left;\r\n  }\r\n  textarea {\r\n    resize: none;\r\n  }\r\n  a {\r\n    text-decoration: none;\r\n    cursor: pointer;\r\n  }\r\n  button {\r\n    padding: 0;\r\n    border: none;\r\n    background: none;\r\n  }\r\n  input, textarea {\r\n    all: unset;\r\n  }\r\n`;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport { ResetStyle, GlobalStyles } from './global-styles';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <ResetStyle />\r\n    <GlobalStyles />\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}